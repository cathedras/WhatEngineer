@{
    ViewData["Title"] = "ManagerPage";
}

<div class="text-center">

    <main id="main">
        <section class="section site-portfolio">
            <div class="container-fluid col-md-6">
                <form action="/Manager/AddInstance" method="post">
                    <div class="form-row">
                        <img resource="" />
                    </div>
                    <div class="form-row">
                        <div class="col-md-12 mb-3">
                            <label for="validationServer01">资源分类</label>
                            <input name="Description" type="text" class="form-control" id="validationServer01" value="Mark" placeholder="名称" required>
                            <div class="valid-feedback" style="visibility:hidden">
                                Looks good!
                            </div>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="col-md-12 mb-3">
                            <label for="validationServer03">资源详细描述</label>
                            <input type="text" class="form-control is-invalid" id="validationServer03" aria-describedby="validationServer03Feedback" required>
                            <div id="validationServer03Feedback" class="invalid-feedback">
                                Please provide a valid city.
                            </div>
                        </div>
                    </div>
                    <div class="form-row">
                        <form onsubmit="AJAXSubmit(this);return false;" >
                            <div class="form-row form-inline">
                                <div class="col-md-12 mb-3">
                                    <label for="exampleFormControlFile1">选择一个文件</label>
                                    <div class="input-group is-invalid">
                                        <div class="custom-file">
                                            <input name="files" type="file" class="custom-file-input" id="validatedInputGroupCustomFile" multiple>
                                            <label class="custom-file-label" for="validatedInputGroupCustomFile" multiple>Choose file...</label>
                                        </div>
                                        <div class="input-group-append">
                                            <button class="btn btn-outline-secondary" type="button">Button</button>
                                        </div>
                                        <div style="margin-top:15px">
                                            <output name="result"></output>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </form>
                        <script>
                            async function AJAXSubmit(oFormElement) {
                                var formData = new FormData(oFormElement.FormData);
                                $.ajax({
                                    type: 'post',
                                    url: "http://192.168.1.101:8080/springbootdemo/file/uploadFiles",
                                    data: formData,
                                    cache: false,
                                    processData: false,
                                    contentType: false,
                                }).success(function (data) {
                                    alert(data);
                                }).error(function () {
                                    alert("上传失败");
                                });

                            }
                        </script>
                    </div>

                    @*<div class="form-group">
            <div class="form-check">
                <input class="form-check-input is-invalid" type="checkbox" value="" id="invalidCheck3" aria-describedby="invalidCheck3Feedback" required>
                <label class="form-check-label" for="invalidCheck3">
                    Agree to terms and conditions
                </label>
                <div id="invalidCheck3Feedback" class="invalid-feedback">
                    You must agree before submitting.
                </div>action="/Manager/AddInstance" method="post" enctype="multipart/form-data"
            </div>
        </div>*@
                    <button class="btn btn-primary btn-lg btn-block" type="submit">新增</button>
                </form>
                
            </div>
        </section>
        <section class="section site-portfolio">
            <div class="container-fluid col-md-6">
                <table class="table">
                    <thead>
                        <tr>
                            <th>#</th>
                            <th>缩略图</th>
                            <th>描述</th>
                            <th>资源地址</th>
                            <th>创建时间</th>
                            <th>创建人账号</th>
                            <th>操作</th>
                        </tr>
                    </thead>
                    @foreach (var item in Model)
                    {
                        <tr>
                            <td>@item.GId</td>
                            <td><img src="@item.DispPath" /></td>
                            <td>@item.Descrition</td>
                            <td>@item.SavePath</td>
                            <td>@item.CreateTime</td>
                            <td>@item.CreateBy</td>
                            <td>
                                <button class="btn">添加详细资源</button>
                            </td>
                        </tr>
                    }
                </table>
            </div>
        </section>
    </main><!-- End #main -->
    <!-- ======= Footer ======= -->
    <footer class="footer" role="contentinfo">
        <div class="container">
            <div class="row">
                <div class="col-sm-6">
                    <p class="mb-1">&copy; Copyright MyPortfolio. All Rights Reserved</p>
                    <div class="credits">
                        <!--
                          All the links in the footer should remain intact.
                          You can delete the links only if you purchased the pro version.
                          Licensing information: https://bootstrapmade.com/license/
                          Purchase the pro version with working PHP/AJAX contact form: https://bootstrapmade.com/buy/?theme=MyPortfolio
                        -->
                        Designed by <a href="https://bootstrapmade.com/">BootstrapMade</a>
                    </div>
                </div>
                <div class="col-sm-6 social text-md-right">
                    <a href="#"><span class="icofont-twitter"></span></a>
                    <a href="#"><span class="icofont-facebook"></span></a>
                    <a href="#"><span class="icofont-dribbble"></span></a>
                    <a href="#"><span class="icofont-behance"></span></a>
                </div>
            </div>
        </div>
    </footer>

    <a href="#" class="back-to-top"><i class="icofont-simple-up"></i></a>
</div>
